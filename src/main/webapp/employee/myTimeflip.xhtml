<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="title">MyTimeflip</ui:define>

    <ui:define name="content">
        <div class="ui-g">
            <div class="ui-g-12">
                <div class="card">
                    <h1>My Timeflip</h1>

                    <h:form id="timeflipForm">

                        <p:dataTable id="TimeflipTable" var="timeflip" value="#{timeflipListController.timeflipOfUser}">
                            <p:column headerText="TimeflipId">
                                <h:outputText value="#{timeflip.macAddress}"/>
                            </p:column>
                            <p:column headerText="Tasks">
                                <h:outputText value="#{timeflip.taskValues}"/>
                            </p:column>

                            <p:column style="width:200px;text-align: center">
                                <p:commandButton update=":timeflipForm:timeflipEditDialog" value="Add Tasks"
                                                 oncomplete="PF('timeflipEditDialog').show()" icon="fa fa-fw fa-edit">
                                    <f:setPropertyActionListener value="#{timeflip}"
                                                                 target="#{timeflipDetailController.timeflip}"/>
                                </p:commandButton>
                            </p:column>

                        </p:dataTable>

                        <p:dialog header="Edit Timeflip" id="timeflipEditDialog" widgetVar="timeflipEditDialog"
                                  modal="true"
                                  showEffect="fade"
                                  hideEffect="fade" resizable="false">
                            <p:outputPanel id="userData" rendered="#{not empty timeflipDetailController.timeflip}">
                                <h:panelGrid columns="2">
                                    <p:outputLabel for="macaddress" value="Macaddress: "/>
                                    <p:inputText id="macaddress" value="#{timeflipDetailController.timeflip.macAddress}"
                                                 disabled="true"/>
                                </h:panelGrid>
                                <p:separator/>
                                <p:outputLabel value="Tasks: "/>
                                <h:panelGrid columns="2">
                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.design}"/>
                                    <p:outputLabel value="Design"/>
                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.konzeption}"/>
                                    <p:outputLabel value="Konzeption"/>
                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.implementierung}"/>
                                    <p:outputLabel value="Implementierung"/>
                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.testen}"/>
                                    <p:outputLabel value="Testen"/>
                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.dokumentation}"/>
                                    <p:outputLabel value="Dokumentation"/>
                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.fehlermanagement}"/>
                                    <p:outputLabel value="Fehlermanagement"/>
                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.meeting}"/>
                                    <p:outputLabel value="Meeting"/>
                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.kundenbesprechung}"/>
                                    <p:outputLabel value="Kundenbesprechung"/>
                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.fortbildung}"/>
                                    <p:outputLabel value="Fortbildung"/>
                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.projektmanagement}"/>
                                    <p:outputLabel value="Projektmanagement"/>
                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.sonstiges}"/>
                                    <p:outputLabel value="Sonstiges"/>
                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.auszeit}"/>
                                    <p:outputLabel value="Auszeit"/>
                                </h:panelGrid>
                            </p:outputPanel>
                            <p:separator/>
                            <h:panelGrid columns="2">
                                <p:commandButton update="@form :timeflipForm:TimeflipTable" value="Add"
                                                 action="#{timeflipDetailController.addTasks}"
                                                 oncomplete="PF('timeflipEditDialog').hide()"/>
                                <p:commandButton value="Abort" type="reset" onclick="PF('timeflipEditDialog').hide()"/>
                            </h:panelGrid>


                        </p:dialog>
                    </h:form>


                    <p:dialog header="Add Activity" id="addActivityDialog" widgetVar="addActivityDialog" modal="true"
                              showEffect="fade" hideEffect="fade" resizable="false">
                        <p:outputPanel>
                            <h:form>
                                <h:panelGrid columns="2">
                                    <p:outputLabel value="TimeflipId: "/>
                                    <p:inputText value="#{timeflipDetailController.timeflip}"/>

                                    <p:selectBooleanCheckbox value="#{timeflipDetailController.design}"/>
                                    <p:outputLabel value="Design"/>
                                </h:panelGrid>
                                <p:separator/>
                                <h:panelGrid columns="2">
                                    <p:commandButton update="@form :timeflipForm:TimeflipTable" value="Add"
                                                     action="#{timeflipDetailController.addTasks}"
                                                     oncomplete="PF('addActivityDialog').hide()"/>
                                    <p:commandButton value="Abort" type="reset"
                                                     onclick="PF('addActivityDialog').hide()"/>
                                </h:panelGrid>
                            </h:form>
                        </p:outputPanel>
                    </p:dialog>

                </div>
            </div>
        </div>


    </ui:define>


</ui:composition>